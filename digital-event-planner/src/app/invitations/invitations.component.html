<app-navbar></app-navbar>
<h2>Meghívásaim</h2>

<table mat-table [dataSource]="invitations" class="mat-elevation-z1">
  <!-- Esemény címe -->
  <ng-container matColumnDef="event">
    <th mat-header-cell *matHeaderCellDef>Esemény</th>
    <td mat-cell *matCellDef="let inv">
      {{ inv.eventId?.title || '—' }}
    </td>
  </ng-container>

  <!-- Státusz -->
  <ng-container matColumnDef="status">
    <th mat-header-cell *matHeaderCellDef>Státusz</th>
    <td mat-cell *matCellDef="let inv">{{ inv.status }}</td>
  </ng-container>

  <!-- Akciók -->
  <ng-container matColumnDef="actions">
    <th mat-header-cell *matHeaderCellDef>Akciók</th>
    <td mat-cell *matCellDef="let inv">
      <button mat-button color="primary"
              (click)="accept(inv)"
              [disabled]="inv.status==='accepted'">
        Elfogad
      </button>
      <button mat-button color="warn"
              (click)="decline(inv)"
              [disabled]="inv.status==='declined'">
        Elutasít
      </button>
    </td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row        *matRowDef="let row; columns: displayedColumns;"></tr>
</table>

<p *ngIf="!invitations.length" class="no-data">
  Jelenleg nincs meghívásod.
</p>
