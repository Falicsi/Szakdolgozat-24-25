<div class="calendar-header">
  <div class="calendar-nav">
    <button (click)="goToPrevious()" mat-icon-button>
      <mat-icon>chevron_left</mat-icon>
    </button>
    <button (click)="goToToday()" class="today-btn">Ma</button>
    <button (click)="goToNext()" mat-icon-button>
      <mat-icon>chevron_right</mat-icon>
    </button>
  </div>
  <span class="current-view">
    {{ headerTitle }}
  </span>
  <div class="view-toggle">
    <button [class.active]="view === CalendarView.Month" (click)="view = CalendarView.Month">Hónap</button>
    <button [class.active]="view === CalendarView.Week" (click)="view = CalendarView.Week">Hét</button>
    <button [class.active]="view === CalendarView.Day" (click)="view = CalendarView.Day">Nap</button>
  </div>
</div>

<div class="calendar-wrapper">
  <mwl-calendar-month-view
    *ngIf="view === CalendarView.Month"
    [viewDate]="viewDate"
    [events]="events"
    (dayClicked)="onDayClick($event.day.date)"
    (eventClicked)="onEventClick($event.event)"
  ></mwl-calendar-month-view>

  <mwl-calendar-week-view
    *ngIf="view === CalendarView.Week"
    [viewDate]="viewDate"
    [events]="events"
    (hourSegmentClicked)="onTimeSlotClick($event.date)"
    (eventClicked)="onEventClick($event.event)"
  ></mwl-calendar-week-view>

  <mwl-calendar-day-view
    *ngIf="view === CalendarView.Day"
    [viewDate]="viewDate"
    [events]="events"
    (hourSegmentClicked)="onTimeSlotClick($event.date)"
    (eventClicked)="onEventClick($event.event)"
  ></mwl-calendar-day-view>
</div>
